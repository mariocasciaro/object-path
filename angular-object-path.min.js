!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e():"function"==typeof define&&define.amd?define([],e):angular?angular.module("objectPath",[]).factory("objectPath",e):t.objectPath=e()}(this,function(){"use strict";function t(t){if(!t)return!0;if(i(t)&&0===t.length)return!0;for(var e in t)if(a.call(t,e))return!1;return!0}function e(t){return s.call(t)}function r(t){return"number"==typeof t||"[object Number]"===e(t)}function n(t){return"string"==typeof t||"[object String]"===e(t)}function u(t){return"object"==typeof t&&"[object Object]"===e(t)}function i(t){return"object"==typeof t&&"number"==typeof t.length&&"[object Array]"===e(t)}function o(t){return"boolean"==typeof t||"[object Boolean]"===e(t)}function f(t){var e=parseInt(t);return e.toString()===t?e:t}function c(e,u,i,o){if(r(u)&&(u=[u]),t(u))return e;if(n(u))return c(e,u.split(".").map(f),i,o);var l=u[0];if(1===u.length){var s=e[l];return void 0!==s&&o||(e[l]=i),s}return void 0===e[l]&&(e[l]=r(u[1])?[]:{}),c(e[l],u.slice(1),i,o)}function l(e,u){if(r(u)&&(u=[u]),t(e))return void 0;if(t(u))return e;if(n(u))return l(e,u.split("."));var o=f(u[0]),c=e[o];if(1===u.length)void 0!==c&&(i(e)?e.splice(o,1):delete e[o]);else if(void 0!==e[o])return l(e[o],u.slice(1));return e}var s=Object.prototype.toString,a=Object.prototype.hasOwnProperty,p=function(t){return Object.keys(p).reduce(function(e,r){return"function"==typeof p[r]&&(e[r]=p[r].bind(p,t)),e},{})};return p.has=function(e,o){if(t(e))return!1;if(r(o)?o=[o]:n(o)&&(o=o.split(".")),t(o)||0===o.length)return!1;for(var f=0;f<o.length;f++){var c=o[f];if(!u(e)&&!i(e)||!a.call(e,c))return!1;e=e[c]}return!0},p.ensureExists=function(t,e,r){return c(t,e,r,!0)},p.set=function(t,e,r,n){return c(t,e,r,n)},p.insert=function(t,e,r,n){var u=p.get(t,e);n=~~n,i(u)||(u=[],p.set(t,e,u)),u.splice(n,0,r)},p.empty=function(e,f){if(t(f))return e;if(t(e))return void 0;var c,l;if(!(c=p.get(e,f)))return e;if(n(c))return p.set(e,f,"");if(o(c))return p.set(e,f,!1);if(r(c))return p.set(e,f,0);if(i(c))c.length=0;else{if(!u(c))return p.set(e,f,null);for(l in c)a.call(c,l)&&delete c[l]}},p.push=function(t,e){var r=p.get(t,e);i(r)||(r=[],p.set(t,e,r)),r.push.apply(r,Array.prototype.slice.call(arguments,2))},p.coalesce=function(t,e,r){for(var n,u=0,i=e.length;i>u;u++)if(void 0!==(n=p.get(t,e[u])))return n;return r},p.get=function(e,u,i){if(r(u)&&(u=[u]),t(u))return e;if(t(e))return i;if(n(u))return p.get(e,u.split("."),i);var o=f(u[0]);return 1===u.length?void 0===e[o]?i:e[o]:p.get(e[o],u.slice(1),i)},p.del=function(t,e){return l(t,e)},p});